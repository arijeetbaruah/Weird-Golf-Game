<?xml version="1.0" encoding="utf-8"?>
<Rule Name="Link" PageTemplate="tool" DisplayName="Linker" SwitchPrefix="-" Order="20" xmlns="http://schemas.microsoft.com/build/2009/properties" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:sys="clr-namespace:System;assembly=mscorlib">
  <Rule.Categories>
    <Category Name="General" DisplayName="General" />
    <Category Name="Optimization" DisplayName="Optimization" />
    <Category Name="Padding" DisplayName="Padding" />
    <Category Name="Advanced" DisplayName="Advanced" />
    <Category Name="All Options" Subtype="Search" DisplayName="All Options" />
    <Category Name="Command Line" Subtype="CommandLine" DisplayName="Command Line" />
  </Rule.Categories>
  <Rule.DataSource>
    <DataSource Persistence="ProjectFile" ItemType="Link" HasConfigurationCondition="true" />
  </Rule.DataSource>
  <StringProperty Subtype="file" Name="OutputFile" Category="General" Switch="o" Separator=" " DisplayName="Output File" Description="Specifies the output file name.   (-o [file])" />
  <EnumProperty Name="OutputFormat" Category="Advanced" DisplayName="Output Format" Description="Select the output format for the linker to generate.   (--oformat=[format])">
    <EnumValue Name="ELFFile" DisplayName="ELF File" />
    <EnumValue Name="PRXFile" Switch="-oformat=prx" DisplayName="PRX File" />
  </EnumProperty>
  <StringProperty Name="PrxStubOutputDir" Category="Advanced" IncludeInCommandLine="false" Visible="false" Switch="-prx-stub-output-dir" Separator="=" DisplayName="PrxStubOutputDir" Description="PrxStubOutputDir" />
  <StringListProperty Subtype="folder" Name="AdditionalLibraryDirectories" Category="General" Switch="L" DisplayName="Additional Library Directories" Description="Specifies one or more additional paths to search when looking for libraries specified using the -l[name] switch notation; configuration specific; use semi-colon delimited list if more than one.   (-L[dir])" />
  <BoolProperty Name="EditAndContinue" Category="General" Switch="-enc" DisplayName="Enable Edit and Continue" Description="Generate additional data required for Edit and Continue (EnC) debugger support. Enabling this switch may increase link time. For information on Edit and Continue, see Debugger User's Guide.   (--enc)" />
  <EnumProperty Name="InfoStripping" Category="General" DisplayName="Debug Info and Symbol Stripping" Description="Enable debugging information stripping and symbol stripping from the output ELF file.   (-S | -s)">
    <EnumValue Name="None" DisplayName="No Symbol Stripping" />
    <EnumValue Name="StripDebug" Switch="S" DisplayName="Strip Debug Information Only" />
    <EnumValue Name="StripSymsAndDebug" Switch="s" DisplayName="Strip Symbols and Debug Information" />
  </EnumProperty>
  <EnumProperty Name="DataStripping" Category="General" DisplayName="Unused Function and Data Stripping" Description="Enable the stripping of unused function code and data from the output ELF file.   (--strip-unused | --strip-unused-data)">
    <EnumValue Name="None" DisplayName="No Code Stripping" />
    <EnumValue Name="StripFuncs" Switch="-strip-unused" DisplayName="Strip Unused Functions Only" />
    <EnumValue Name="StripFuncsAndData" Switch="-strip-unused-data" DisplayName="Strip Unused Functions and Data" />
  </EnumProperty>
  <BoolProperty Name="DuplicateStripping" Category="General" Switch="-strip-duplicates" DisplayName="Duplicate Function and Data Stripping" Description="Enable the additional stripping of identical function code and read-only data sections from the output ELF file. Can only be used when &quot;Unused Function and Data Stripping&quot; is also enabled.   (--strip-duplicates)" />
  <StringListProperty Subtype="file" Name="ImportLibrary" Category="Advanced" IncludeInCommandLine="false" DisplayName="Export Library" Description="Specify the name of the Export library generated by this project. When this project is specified as a dependency of another, the Export library will be linked in." />
  <BoolProperty Name="IgnoreImportLibrary" Category="Advanced" IncludeInCommandLine="false" DisplayName="Ignore Export Library" Description="Specifies that the export library generated by this configuration should not be imported into dependent projects.">
    <BoolProperty.DataSource>
      <DataSource Persistence="ProjectFile" ItemType="" Label="" HasConfigurationCondition="true" />
    </BoolProperty.DataSource>
  </BoolProperty>
  <EnumProperty Name="LinkTimeOptimization" Category="Optimization" DisplayName="Link Time Optimization" Description="Select the mode to use when linking source compiled with Link Time Optimization enabled. The default is &quot;Full&quot;, and provides the highest level of optimization. &quot;Thin&quot; offers less optimization for a shorter link time. (--lto=thin)">
    <EnumValue Name="Default" DisplayName="Default (Full)" />
    <EnumValue Name="Thin" DisplayName="Thin" Switch="-lto=thin" />
  </EnumProperty>
  <BoolProperty Name="ThinLtoCaching" DisplayName="Enable Thin LTO Caching" Description="Use caching for Thin LTO compiles to improve incremental link times. Cached files will be stored under the directory $(IntDir)$(ProjectName).lto and are removed on Clean or Rebuild.   (-lto-thin-cache=[dir])" Category="Optimization" Switch="-lto-thin-cache">
    <Argument Property="ThinLtoCacheDir" IsRequired="true" Separator="=" />
  </BoolProperty>
  <StringProperty Name="ThinLtoCacheDir" DisplayName="ThinLtoCacheDir" Category="Optimization" Visible="false" />
  <BoolProperty Name="Pad2mibText" DisplayName="Pad Text Segment" Description="Add padding to the .text segment to extend it to a 2MiB aligned address.   (--pad-2mib=text)" Category="Padding" Switch="-pad-2mib=text" />
  <BoolProperty Name="Pad2mibData" DisplayName="Pad Data Segment" Description="Add padding to the .data segment to extend it to a 2MiB aligned address.   (--pad-2mib=data)" Category="Padding" Switch="-pad-2mib=data" />
  <BoolProperty Name="Pad2mibRelRo" DisplayName="Pad RelRo Segment" Description="Add padding to the .relro segment to extend it to a 2MiB aligned address.   (--pad-2mib=relro)" Category="Padding" Switch="-pad-2mib=relro" />
  <BoolProperty Name="GenerateMapFile" Category="General" Switch="-Map" Separator="=" DisplayName="Generate Map File" Description="The --Map option tells the linker to create a map file.">
    <Argument Property="MapFileName" IsRequired="true" />
  </BoolProperty>
  <StringProperty Subtype="file" Name="MapFileName" Category="General" DisplayName="Map File Name" Description="Specifies a name for the map file when generated." />
  <EnumProperty Name="Addressing" Category="General" DisplayName="Addressing" Description="Specifies Address Space Layout Randomization (ASLR) usage.   (--addressing=non-aslr)">
    <EnumValue Name="Aslr" DisplayName="With ASLR" />
    <EnumValue Name="NonAslr" Switch="-addressing=non-aslr" DisplayName="Without ASLR" />
  </EnumProperty>
  <BoolProperty Name="StartGroup" DisplayName="StartGroup" Description="StartGroup" Category="General" IncludeInCommandLine="false" Visible="false" Switch="-start-group" />
  <StringListProperty Subtype="file" Name="Sources" DisplayName="Sources" Description="Sources" Category="General" IncludeInCommandLine="false" Visible="false" />
  <StringListProperty Subtype="file" Name="AdditionalDependencies" Category="General" DisplayName="Additional Dependencies" Description="Specifies additional items to add to the link line; configuration specific. Use library file names, library paths, or use -l with LibraryName for system libraries." />
  <BoolProperty Name="EndGroup" DisplayName="EndGroup" Description="EndGroup" Category="General" IncludeInCommandLine="false" Visible="false" Switch="-end-group" />
  <BoolProperty Name="LinkLibraryDependencies" Category="General" IncludeInCommandLine="false" F1Keyword="VC.Project.VCLinkerTool.LinkLibraryDependencies" DisplayName="Link Library Dependencies" Description="Specifies whether or not library outputs from project dependencies are automatically linked in.">
    <BoolProperty.DataSource>
      <DataSource Persistence="ProjectFile" ItemType="ProjectReference" Label="" HasConfigurationCondition="true" />
    </BoolProperty.DataSource>
  </BoolProperty>
  <BoolProperty Name="UseLibraryDependencyInputs" Category="General" IncludeInCommandLine="false" F1Keyword="VC.Project.VCLinkerTool.UseLibraryDependencyInputs" DisplayName="Use Library Dependency Inputs" Description="Specifies whether or not the inputs to the librarian tool are used rather than the library file itself when linking in library outputs of project dependencies.">
    <BoolProperty.DataSource>
      <DataSource Persistence="ProjectFile" ItemType="ProjectReference" Label="" HasConfigurationCondition="true" />
    </BoolProperty.DataSource>
  </BoolProperty>
  <StringProperty Subtype="folder" Name="TrackerLogDirectory" Category="General" IncludeInCommandLine="false" Visible="false" />
  <StringProperty Name="AdditionalOptions" Category="Command Line" DisplayName="Additional Options" Description="Specify additional linker command line options not provided by the other properties. The options format must be valid." />
</Rule>