<!--
***********************************************************************************************
Microsoft.Cpp.orbis.props

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.
***********************************************************************************************
-->

<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(VCTargetsPath)\Platforms\ORBIS\ImportBefore\*.props" Condition="Exists('$(VCTargetsPath)\Platforms\ORBIS\ImportBefore')" />

  <!-- Make sure we have a valid PlatformToolset value for ORBIS -->
  <PropertyGroup Condition="!(Exists('$(VCTargetsPath)\Platforms\ORBIS\PlatformToolsets\$(PlatformToolset)\Microsoft.Cpp.ORBIS.$(PlatformToolset).props'))">
    <OriginalPlatformToolset>$(PlatformToolset)</OriginalPlatformToolset>
    <PlatformToolset>Clang</PlatformToolset>
  </PropertyGroup>
  
  <!-- *******************************************************************************************
        Cpp settings mapping file
       ******************************************************************************************* -->
  <!-- Default values -->
  <PropertyGroup>
    <TargetExt />
  </PropertyGroup>
  
  <PropertyGroup Condition="'$(ConfigurationType)' == 'Application'">
    <LinkCompiled>true</LinkCompiled>
    <TargetExt>.elf</TargetExt>
    <OutputType>exe</OutputType>
    <ConfigPreprocessorDefinitions></ConfigPreprocessorDefinitions>
  </PropertyGroup>

  <PropertyGroup Condition="'$(ConfigurationType)' == 'DynamicLibrary'">
    <LinkCompiled>true</LinkCompiled>
    <TargetExt>.prx</TargetExt>
    <OutputType>library</OutputType>
  </PropertyGroup>
  
  <PropertyGroup Condition="'$(ConfigurationType)' == 'StaticLibrary'">
    <LibCompiled>true</LibCompiled>
    <TargetExt>.a</TargetExt>
    <OutputType>staticlibrary</OutputType>
  </PropertyGroup>
  
  <PropertyGroup>
    <DebuggerFlavor Condition="'$(DebuggerFlavor)'==''">ORBISDebugger</DebuggerFlavor>
  </PropertyGroup>

  <!-- VsInstallRoot should be defined by msbuild -->
  <PropertyGroup>
    <VSInstallDir_150 Condition="'$(VSInstallDir_150)' == ''">$(VsInstallRoot)\</VSInstallDir_150>
  </PropertyGroup>

  <PropertyGroup Condition="'$(VSInstallDir_150)' != ''">
    <VCInstallDir_150 Condition="'$(VCInstallDir_150)' == ''">$(VSInstallDir_150)VC\</VCInstallDir_150>
    <VCIDEInstallDir_150 Condition="'$(VCIDEInstallDir_150)' == ''">$(VSInstallDir_150)Common7\IDE\VC\</VCIDEInstallDir_150>
  </PropertyGroup>

  <PropertyGroup Condition="'$(DisableRegistryUse)' == 'true'">
    <VCInstallDir_150 Condition="'$(VCInstallDir_150)' == ''">VCInstallDir_150_is_not_defined</VCInstallDir_150>
    <VCIDEInstallDir_150 Condition="'$(VCIDEInstallDir_150)' == ''">VCIDEInstallDir_150_is_not_defined</VCIDEInstallDir_150>
  </PropertyGroup>

  <PropertyGroup>
    <VCInstallDir>$(VCInstallDir_150)</VCInstallDir>
    <VCIDEInstallDir>$(VCIDEInstallDir_150)</VCIDEInstallDir>
    <VSInstallDir>$(VSInstallDir_150)</VSInstallDir>
  </PropertyGroup>
  
  <!-- Default debugger properties -->
  <PropertyGroup>
    <!-- LocalDebuggerCommand is defined into an empty $(TargetPath) for the property page, it is later redefined to its proper value. -->
    <LocalDebuggerCommand Condition="'$(LocalDebuggerCommand)' == '' and '$(TargetPath)' != ''">$(TargetPath)</LocalDebuggerCommand>
    <LocalDebuggerExecutableLoadLocation Condition="'$(LocalDebuggerExecutableLoadLocation)' == ''">ExecutableLoadHost</LocalDebuggerExecutableLoadLocation>
    <LocalDebuggerWorkingDirectory Condition="'$(LocalDebuggerWorkingDirectory)' == ''">$(ProjectDir)</LocalDebuggerWorkingDirectory>
    <LocalDebuggerReboot  Condition="'$(LocalDebuggerReboot)' == ''">false</LocalDebuggerReboot>
    <LocalDebuggerSystemLibraryVerification Condition="'$(LocalDebuggerSystemLibraryVerification)' == ''">Off</LocalDebuggerSystemLibraryVerification>
  </PropertyGroup>

  <PropertyGroup>
    <AppDebuggerCommand Condition="'$(AppDebuggerCommand)' == ''">$(TargetPath)</AppDebuggerCommand>
    <AppDebuggerExecutableLoadLocation Condition="'$(AppDebuggerExecutableLoadLocation)' == ''">ExecutableLoadAuto</AppDebuggerExecutableLoadLocation>
    <AppDebuggerWorkingDirectory Condition="'$(AppDebuggerWorkingDirectory)' == ''">SystemManaged</AppDebuggerWorkingDirectory>
    <AppDebuggerBRMount Condition="'$(AppDebuggerBRMount)' == ''">None</AppDebuggerBRMount>
    <AppDebuggerBREmulIso Condition="'$(AppDebuggerBREmulIso)' == ''">/usb#/</AppDebuggerBREmulIso>
    <AppDebuggerSystemLibraryVerification Condition="'$(AppDebuggerSystemLibraryVerification)' == ''">Off</AppDebuggerSystemLibraryVerification>
  </PropertyGroup>

  <PropertyGroup>
    <Language>C++</Language>
    <DefaultLanguageSourceExtension>.cpp</DefaultLanguageSourceExtension>
  </PropertyGroup>
  
  <!-- Define defaults for all tools for property page-->
  <PropertyGroup>
    <ObjectExt>.o</ObjectExt>
    <LibExt>.a</LibExt>
    <TargetName Condition="'$(TargetName)' == ''">$(ProjectName)</TargetName>
    <ExtensionsToDeleteOnClean>*.o;*.o-*;*.d;*.map;*.pch;*.gch;*.tmp;*.rsp;*.tlog;*.dep;*.plist;*.json;*.xml</ExtensionsToDeleteOnClean>
    <PreBuildEventUseInBuild    Condition="'$(PreBuildEventUseInBuild)'    == ''">true</PreBuildEventUseInBuild>
    <PreLinkEventUseInBuild     Condition="'$(PreLinkEventUseInBuild)'     == ''">true</PreLinkEventUseInBuild>
    <PostBuildEventUseInBuild   Condition="'$(PostBuildEventUseInBuild)'   == ''">true</PostBuildEventUseInBuild>
    <PostAnalyzeEventUseInBuild Condition="'$(PostAnalyzeEventUseInBuild)' == ''">true</PostAnalyzeEventUseInBuild>
  </PropertyGroup>
    
  <!-- Need this defined or the IDE's Class Diagram tool generates an error -->
  <PropertyGroup>
    <CLRSupport>false</CLRSupport>
  </PropertyGroup>
  
  <Import Condition="(exists('$(VCTargetsPath)\Platforms\ORBIS\PlatformToolsets\$(PlatformToolset)\Microsoft.Cpp.orbis.$(PlatformToolset).props'))" Project="$(VCTargetsPath)\Platforms\ORBIS\PlatformToolsets\$(PlatformToolset)\Microsoft.Cpp.orbis.$(PlatformToolset).props"/>

  <Import Project="$(VCTargetsPath)\Platforms\ORBIS\OrbisWavePsslc.props" />
  <Import Project="$(VCTargetsPath)\Platforms\ORBIS\WavePsslc.props" />

  <ItemDefinitionGroup>
    <CustomBuild>
      <Message                     Condition="'%(CustomBuild.Message)'                    == ''">Performing Custom Build Tools</Message>
      <LinkObjects                 Condition="'%(CustomBuild.LinkObjects)'                == ''">true</LinkObjects>
      <TreatOutputAsContent        Condition="'%(CustomBuild.TreatOutputAsContent)'       == ''">false</TreatOutputAsContent>
      <TrackerLogDirectory         Condition="'%(CustomBuild.TrackerLogDirectory)'        == ''">$(TLogLocation)</TrackerLogDirectory>
      <MinimalRebuildFromTracking  Condition="'%(CustomBuild.MinimalRebuildFromTracking)' == ''">true</MinimalRebuildFromTracking>
      <AcceptableNonZeroExitCodes  Condition="'%(CustomBuild.AcceptableNonZeroExitCodes)' == ''">$(AcceptableNonZeroExitCodes)</AcceptableNonZeroExitCodes>
    </CustomBuild>
    <CustomBuildStep>
      <Message                     Condition="'%(CustomBuildStep.Message)'==''" >Performing Custom Build Step</Message>
    </CustomBuildStep>
    <Lib>
      <ThinArchive                 Condition="'%(Lib.ThinArchive)'                  == ''">false</ThinArchive>
      <OutputFile                  Condition="'%(Lib.OutputFile)'                   == ''">$(OutDir)$(TargetName)$(TargetExt)</OutputFile>
      <TrackerLogDirectory         Condition="'%(Lib.TrackerLogDirectory)'          == ''">$(TLogLocation)</TrackerLogDirectory>
      <MinimalRebuildFromTracking  Condition="'%(Lib.MinimalRebuildFromTracking)'   == ''">true</MinimalRebuildFromTracking>
      <SuppressStartupBanner       Condition="'%(Lib.SuppressStartupBanner)'        == ''">true</SuppressStartupBanner>
      <AcceptableNonZeroExitCodes  Condition="'%(Lib.AcceptableNonZeroExitCodes)'   == ''">$(AcceptableNonZeroExitCodes)</AcceptableNonZeroExitCodes>
    </Lib>

    <ProjectReference>
      <LinkLibraryDependencies      Condition="'%(ProjectReference.LinkLibraryDependencies)' == '' and '$(ConfigurationType)' == 'StaticLibrary'">false</LinkLibraryDependencies>
      <LinkLibraryDependencies      Condition="'%(ProjectReference.LinkLibraryDependencies)' == ''">true</LinkLibraryDependencies>
      <UseLibraryDependencyInputs   Condition="'%(ProjectReference.UseLibraryDependencyInputs)' == ''">false</UseLibraryDependencyInputs>
      <ReferenceOutputAssembly      Condition="'%(ProjectReference.ReferenceOutputAssembly)' == ''">true</ReferenceOutputAssembly>
      <Private                      Condition="'%(ProjectReference.Private)' == ''">true</Private>
      <!--SetPlatform                  Condition="'%(ProjectReference.SetPlatform)' == '' and '$(Platform_Actual)' == 'Win32'">Platform=x86</SetPlatform-->
    </ProjectReference>
    <Reference>
      <ReferenceOutputAssembly>true</ReferenceOutputAssembly>
      <CopyLocalSatelliteAssemblies>true</CopyLocalSatelliteAssemblies>
    </Reference>
    <COMReference>
      <ReferenceOutputAssembly>true</ReferenceOutputAssembly>
      <CopyLocalSatelliteAssemblies>true</CopyLocalSatelliteAssemblies>
    </COMReference>
  </ItemDefinitionGroup>

  <ItemGroup>
    <!--  Unique items for the project-->
    <CustomBuildStep  Include="$(ProjectName)" />
    <PreBuildEvent    Include="$(ProjectName)" />
    <PreLinkEvent     Include="$(ProjectName)" />
    <PostBuildEvent   Include="$(ProjectName)" />
    <PostAnalyzeEvent Include="$(ProjectName)" />
  </ItemGroup>

  <PropertyGroup>
    <ForceImportAfterCppTargets Condition="'$(DoingSceEnCBuild)'=='true' and '$(ConfigurationType)'=='Makefile'">$(VCTargetsPath)\Platforms\ORBIS\SCE.MakefileBuild.EnC.targets</ForceImportAfterCppTargets>
  </PropertyGroup>

  <Import Project="$(VCTargetsPath)\Platforms\ORBIS\ImportAfter\*.props" Condition="Exists('$(VCTargetsPath)\Platforms\ORBIS\ImportAfter')" />
</Project>
